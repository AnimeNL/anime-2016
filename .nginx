#
# $CUSTOM3 in DirectAdmin
#

add_header Strict-Transport-Security "max-age=31536000" always;

rewrite ^/h([ea])llo$ /hallo/ permanent;
rewrite ^/hello/(.*?)$ /hallo/$1 permanent;

if ($host ~ stewards) {
    rewrite ^/hallo/aanmelding/(.*?)\.html$ /tools/registration/index.php?page=aanmelding&slug=$1 last;
    rewrite ^/hallo/(.*?)\.html$ /tools/registration/index.php?page=$1 last;
    rewrite ^/hallo/(.*?)$ /tools/registration/$1 last;
}

if ($host ~ gophers) {
    rewrite ^/hallo/(.*?)\.html$ /tools/registration-gophers/index.php?page=$1 last;
    rewrite ^/hallo/(.*?)$ /tools/registration-gophers/$1 last;
}

location ~ data\.json$ {
    return 403;
}

location /configuration/ { return 404; }
location /composer.json { return 404; }
location /composer.lock { return 404; }
location /gulpfile.js { return 404; }
location /node_modules/ { return 404; }
location /package.json { return 404; }
location /phpcs.xml { return 404; }
location /phpunit.xml { return 404; }
